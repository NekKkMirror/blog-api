(this["webpackJsonpclient-workflow"]=this["webpackJsonpclient-workflow"]||[]).push([[0],{43:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(32),s=t.n(c),i=(t(43),t(44),t(6)),l=t(4),o=t(7),d=t(8),u=t.p+"static/media/main.c15b52bc.svg",j=t(3),b=t.n(j),h=t(9),m=t(2),p=t(5),g=t.n(p),x="https://localhost:3001",v=t(0),O=r.a.createContext();g.a.defaults.withCredentials=!0;var f,w=function(e){var n=e.children,t=Object(a.useState)(!0),r=Object(m.a)(t,2),c=r[0],s=r[1],i=Object(a.useState)(null),l=Object(m.a)(i,2),o=l[0],d=l[1],u=function(){d(null)},j=function(){var e=Object(h.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(x,"/api/v1/user/show-me"));case 3:n=e.sent,d(n.data.user),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u();case 10:s(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(x,"/api/v1/auth/logout"));case 3:u(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),Object(v.jsx)(O.Provider,{value:{isLoading:c,saveUser:function(e){d(e)},user:o,logoutUser:p},children:n})},k=function(){return Object(a.useContext)(O)};var y,L,N=d.a.div(f||(f=Object(o.a)(["\n  display: grid;\n  align-items: center;\n  h2 {\n    font-weight: 700;\n  }\n  h2 span {\n    color: var(--primary-500);\n  }\n  .main-img {\n    display: none;\n  }\n  @media (min-width: 992px) {\n    grid-template-columns: 1fr 1fr;\n    column-gap: 6rem;\n    .main-img {\n      display: block;\n    }\n  }\n  .btn {\n    margin-left: 0.25rem;\n    margin-right: 0.25rem;\n  }\n"]))),C=function(){var e=k().user;return Object(v.jsxs)(v.Fragment,{children:[e&&Object(v.jsx)(l.a,{to:"/dashboard"}),Object(v.jsxs)(N,{className:"page",children:[Object(v.jsxs)("div",{className:"info",children:[Object(v.jsxs)("h2",{children:[Object(v.jsx)("span",{children:"Auth"}),"Workflow"]}),Object(v.jsx)("p",{children:"I'm baby viral enamel pin chartreuse cliche retro af selfies kinfolk photo booth plaid jianbing actually squid 3 wolf moon lumbersexual. Hell of humblebrag gluten-free lo-fi man braid leggings."}),Object(v.jsx)("p",{children:"Cloud bread kale chips wayfarers deep v chicharrones leggings fingerstache actually blog cliche four dollar toast. Sriracha ugh kickstarter, next level la croix butcher lomo."}),Object(v.jsx)(i.b,{to:"/login",className:"btn",children:"Login"}),Object(v.jsx)(i.b,{to:"/register",className:"btn",children:"Register"})]}),Object(v.jsx)("img",{src:u,alt:"job hunt",className:"img main-img"})]})]})},S=d.a.main(y||(y=Object(o.a)(["\n  text-align: center;\n  padding-top: 5rem;\n  h1 {\n    font-size: 9rem;\n  }\n"]))),R=function(){return Object(v.jsx)(S,{className:"page",children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"404"}),Object(v.jsx)("h4",{children:"page not found"}),Object(v.jsx)(i.b,{to:"/",className:"btn",children:"Back Home"})]})})},A=t(14),H=t(13),M=function(e){var n=e.type,t=e.name,a=e.value,r=e.handleChange;return Object(v.jsxs)("div",{className:"form-row",children:[Object(v.jsx)("label",{htmlFor:t,className:"form-label",children:t}),Object(v.jsx)("input",{type:n,value:a,name:t,onChange:r,className:"form-input"})]})},z=function(){var e=Object(a.useState)({show:!1,text:"",type:"danger"}),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),s=Object(m.a)(c,2),i=s[0],l=s[1],o=Object(a.useState)(!1),d=Object(m.a)(o,2);return{alert:t,showAlert:function(e){var n=e.text,t=e.type;r({show:!0,text:n,type:void 0===t?"danger":t})},loading:i,setLoading:l,success:d[0],setSuccess:d[1],hideAlert:function(){r({show:!1,text:"",type:"danger"})}}};var W,B=d.a.section(L||(L=Object(o.a)(["\n  .alert {\n    margin-top: 3rem;\n    margin-bottom: -1.5rem;\n  }\n  h4 {\n    text-align: center;\n  }\n  p {\n    margin: 0;\n    margin-top: 1rem;\n    text-align: center;\n  }\n  .login-link {\n    display: inline-block;\n    margin-left: 0.25rem;\n    text-transform: capitalize;\n    color: var(--primary-500);\n    cursor: pointer;\n  }\n  .btn:disabled {\n    cursor: not-allowed;\n  }\n"]))),_=function(){var e=Object(l.g)(),n=Object(a.useState)({name:"",email:"",password:""}),t=Object(m.a)(n,2),r=t[0],c=t[1],s=z(),o=s.alert,d=s.showAlert,u=s.loading,j=s.setLoading,p=s.success,O=s.setSuccess,f=s.hideAlert,w=function(e){c(Object(H.a)(Object(H.a)({},r),{},Object(A.a)({},e.target.name,e.target.value)))},k=function(){var n=Object(h.a)(b.a.mark((function n(t){var a,s,i,l,o,u,h;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),f(),j(!0),a=r.name,s=r.email,i=r.password,l={name:a,email:s,password:i},n.prev=5,n.next=8,g.a.post("".concat(x,"/api/v1/auth/register"),l);case 8:o=n.sent,u=o.data,O(!0),c({name:"",email:"",password:""}),d({text:u.msg,type:"success"}),e.push("/login"),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(5),h=n.t0.response.data.msg,d({text:h||"that is unknow error"});case 20:j(!1);case 21:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(B,{className:"page",children:[o.show&&Object(v.jsx)("div",{className:"alert alert-".concat(o.type),children:o.text}),!p&&Object(v.jsxs)("form",{className:u?"form form-loading":"form",onSubmit:k,children:[Object(v.jsx)(M,{type:"name",name:"name",value:r.name,handleChange:w}),Object(v.jsx)(M,{type:"email",name:"email",value:r.email,handleChange:w}),Object(v.jsx)(M,{type:"password",name:"password",value:r.password,handleChange:w}),Object(v.jsx)("button",{type:"submit",className:"btn btn-block",disabled:u,children:u?"Loading...":"Register"}),Object(v.jsxs)("p",{children:["Already a have an account?",Object(v.jsx)(i.b,{to:"/login",className:"login-link",children:"Log In"})]})]})]})})};g.a.defaults.withCredentials=!0;var P,V=d.a.section(W||(W=Object(o.a)(["\n  .alert {\n    margin-top: 3rem;\n  }\n  h4 {\n    text-align: center;\n  }\n  p {\n    margin: 0;\n    text-align: center;\n  }\n  .btn {\n    margin-bottom: 1.5rem;\n  }\n  .register-link,\n  .reset-link {\n    display: inline-block;\n    margin-left: 0.25rem;\n    text-transform: capitalize;\n    color: var(--primary-500);\n    cursor: pointer;\n  }\n  .reset-link {\n    margin-top: 0.25rem;\n  }\n  .btn:disabled {\n    cursor: not-allowed;\n  }\n"]))),Z=function(){var e=k().saveUser,n=Object(l.g)(),t=Object(a.useState)({email:"",password:""}),r=Object(m.a)(t,2),c=r[0],s=r[1],o=z(),d=o.alert,u=o.showAlert,j=o.loading,p=o.setLoading,O=o.hideAlert,f=function(e){s(Object(H.a)(Object(H.a)({},c),{},Object(A.a)({},e.target.name,e.target.value)))},w=function(){var t=Object(h.a)(b.a.mark((function t(a){var r,i,l,o,d;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),O(),p(!0),r=c.email,i=c.password,l={email:r,password:i},t.prev=5,t.next=8,g.a.post("".concat(x,"/api/v1/auth/login"),l);case 8:o=t.sent,d=o.data,s({name:"",email:"",password:""}),u({text:"Welcome, ".concat(d.user.name,". Redirecting to dashboard..."),type:"success"}),p(!1),e(d.user),n.push("/dashboard"),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),u({text:t.t0.response.data.msg}),p(!1);case 21:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(V,{className:"page",children:[d.show&&Object(v.jsx)("div",{className:"alert alert-".concat(d.type),children:d.text}),Object(v.jsxs)("form",{className:j?"form form-loading":"form",onSubmit:w,children:[Object(v.jsx)(M,{type:"email",name:"email",value:c.email,handleChange:f}),Object(v.jsx)(M,{type:"password",name:"password",value:c.password,handleChange:f}),Object(v.jsx)("button",{type:"submit",className:"btn btn-block",disabled:j,children:j?"Loading...":"Login"}),Object(v.jsxs)("p",{children:["Don't have an account?",Object(v.jsx)(i.b,{to:"/register",className:"register-link",children:"Register"})]})]})]})})};d.a.section(P||(P=Object(o.a)([""])));var D,F=function(e){var n=e.author,t=e.message,a=e._id,c=r.a.useState(!1),s=Object(m.a)(c,2),i=s[0],l=s[1],o=r.a.useState({author:n,message:t}),d=Object(m.a)(o,2),u=(d[0],d[1],r.a.useRef()),j=r.a.useRef(),b=r.a.useRef(),h=r.a.useRef(),p=function(){var e,n,t,a;null===(e=j.current)||void 0===e||e.removeAttribute("contenteditable"),null===(n=b.current)||void 0===n||n.removeAttribute("contenteditable"),null===(t=b.current)||void 0===t||t.classList.remove("_edit"),null===(a=j.current)||void 0===a||a.classList.remove("_edit")},O=function(){l(!0),function(){var e,n,t,a,r;null===(e=j.current)||void 0===e||e.setAttribute("contenteditable",""),null===(n=b.current)||void 0===n||n.setAttribute("contenteditable",""),null===(t=b.current)||void 0===t||t.classList.add("_edit"),null===(a=j.current)||void 0===a||a.classList.add("_edit"),null===(r=b.current)||void 0===r||r.focus()}()};return Object(v.jsxs)("div",{className:"blog-card",ref:u,children:[Object(v.jsx)("div",{className:"blog-card-id",ref:h,children:a}),Object(v.jsxs)("div",{className:"blog-card-body",children:[Object(v.jsxs)("div",{className:"blog-options",children:[i&&Object(v.jsx)("svg",{className:"blog-apply-changes",onClick:function(){return function(){var e,n,t,a=null===(e=h.current)||void 0===e?void 0:e.textContent.trim(),r=null===(n=j.current)||void 0===n?void 0:n.textContent.trim(),c=null===(t=b.current)||void 0===t?void 0:t.textContent.trim();g.a.patch("".concat(x,"/api/v1/blog/").concat(a),{author:r,message:c}).then((function(e){p(),l(!1),console.log(e.data)}))}()},width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.3938 2.20468C3.70395 1.96828 4.12324 1.93374 4.4679 2.1162L21.4679 11.1162C21.7953 11.2895 22 11.6296 22 12C22 12.3704 21.7953 12.7105 21.4679 12.8838L4.4679 21.8838C4.12324 22.0662 3.70395 22.0317 3.3938 21.7953C3.08365 21.5589 2.93922 21.1637 3.02382 20.7831L4.97561 12L3.02382 3.21692C2.93922 2.83623 3.08365 2.44109 3.3938 2.20468ZM6.80218 13L5.44596 19.103L16.9739 13H6.80218ZM16.9739 11H6.80218L5.44596 4.89699L16.9739 11Z",fill:"#000000"})}),i&&Object(v.jsxs)("svg",{className:"remove-blog",onClick:function(){return function(){var e,n,t=null===(e=h.current)||void 0===e?void 0:e.textContent.trim();g.a.delete("".concat(x,"/api/v1/blog/").concat(t)).then((function(e){p(),l(!1),console.log(e.data)})),null===(n=u.current)||void 0===n||n.classList.add("remove"),l(!1),p(),setTimeout((function(){var e;null===(e=u.current)||void 0===e||e.classList.add("_h")}),800)}()},width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("path",{d:"M10 11V17",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(v.jsx)("path",{d:"M14 11V17",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(v.jsx)("path",{d:"M4 7H20",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(v.jsx)("path",{d:"M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(v.jsx)("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),i&&Object(v.jsxs)("svg",{className:"blog-cancel-change",onClick:function(){return l(!1),void p()},width:"800px",height:"800px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("title",{children:"cancel"}),Object(v.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(v.jsx)("g",{id:"work-case",fill:"#000000",transform:"translate(91.520000, 91.520000)",children:Object(v.jsx)("polygon",{id:"Close",points:"328.96 30.2933333 298.666667 1.42108547e-14 164.48 134.4 30.2933333 1.42108547e-14 1.42108547e-14 30.2933333 134.4 164.48 1.42108547e-14 298.666667 30.2933333 328.96 164.48 194.56 298.666667 328.96 328.96 298.666667 194.56 164.48"})})})]}),Object(v.jsx)("svg",{className:"blog-change",onClick:function(){return O()},width:"800px",height:"800px",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:Object(v.jsx)("path",{fill:"#000000",fillRule:"evenodd",d:"M15.198 3.52a1.612 1.612 0 012.223 2.336L6.346 16.421l-2.854.375 1.17-3.272L15.197 3.521zm3.725-1.322a3.612 3.612 0 00-5.102-.128L3.11 12.238a1 1 0 00-.253.388l-1.8 5.037a1 1 0 001.072 1.328l4.8-.63a1 1 0 00.56-.267L18.8 7.304a3.612 3.612 0 00.122-5.106zM12 17a1 1 0 100 2h6a1 1 0 100-2h-6z"})})]}),Object(v.jsx)("div",{className:"blog-author",ref:j,children:n})]}),Object(v.jsx)("div",{className:"blog-message",ref:b,children:t})]})},I=t(37),U=t.n(I),E=function(e){var n=e.onChangePage;return Object(v.jsx)(U.a,{className:"pagination",breakLabel:"...",nextLabel:">",previousLabel:"<",onPageChange:function(e){return n(e.selected+1)},pageRangeDisplayed:20,pageCount:10,renderOnZeroPageCount:null})};g.a.defaults.withCredentials=!0;var J,Y,q=d.a.div(D||(D=Object(o.a)(["\n  p span {\n    background: var(--primary-500);\n    padding: 0.15rem 0.25rem;\n    color: var(--white);\n    border-radius: var(--borderRadius);\n    letter-spacing: var(--letterSpacing);\n  }\n"]))),T=function(){var e=k().user,n=r.a.useState(),t=Object(m.a)(n,2),a=t[0],c=t[1],s=r.a.useState(1),i=Object(m.a)(s,2),l=i[0],o=i[1],d=e.username,u=e.userId,j=e.userRole;return r.a.useEffect((function(){g.a.get("".concat(x,"/api/v1/blog/search?page=").concat(l,"&limit=20&order=author")).then((function(e){c(e.data.newBlogs)}))}),[l]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(q,{className:"page",children:[Object(v.jsxs)("h2",{children:["Hello there, ",d]}),Object(v.jsxs)("p",{children:["Your ID : ",Object(v.jsx)("span",{children:u})]}),Object(v.jsxs)("p",{children:["Your Role : ",Object(v.jsx)("span",{children:j})]}),Object(v.jsx)("div",{className:"blog-container",children:null===a||void 0===a?void 0:a.map((function(e){return Object(v.jsx)(F,Object(H.a)({},e),e._id)}))}),Object(v.jsx)(E,{onChangePage:function(e){return o(e)}})]})})},G=t(38),K=["children"],Q=function(e){var n=e.children,t=Object(G.a)(e,K),a=k().user;return Object(v.jsx)(l.b,Object(H.a)(Object(H.a)({},t),{},{render:function(){return a?n:Object(v.jsx)(l.a,{to:"/"})}}))};d.a.main(J||(J=Object(o.a)(["\n  h4,\n  p {\n    text-align: center;\n  }\n  p {\n    margin: 0;\n    margin-top: 1rem;\n  }\n  .login-link {\n    display: inline-block;\n    margin-left: 0.25rem;\n    text-transform: capitalize;\n    color: var(--primary-500);\n    cursor: pointer;\n  }\n"])));d.a.section(Y||(Y=Object(o.a)(["\n  h4,\n  p {\n    text-align: center;\n  }\n  p {\n    margin: 0;\n    margin-top: 1rem;\n  }\n"])));var X,$=t.p+"static/media/logo.a1c20189.svg",ee=d.a.nav(X||(X=Object(o.a)(["\n  background: var(--white);\n  height: 6rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .nav-center {\n    width: var(--fluid-width);\n    max-width: var(--max-width);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n  }\n  .nav-links {\n    display: flex;\n    flex-direction: column;\n  }\n  .nav-links p {\n    margin: 0;\n    text-transform: capitalize;\n    margin-bottom: 0.25rem;\n  }\n  .home-link {\n    display: flex;\n    align-items: flex-end;\n  }\n  @media (min-width: 776px) {\n    .nav-links {\n      flex-direction: row;\n      align-items: center;\n    }\n    .nav-links p {\n      margin: 0;\n      margin-right: 1.5rem;\n    }\n  } ;\n"]))),ne=function(){var e=k(),n=e.user,t=e.logoutUser;return Object(v.jsx)(ee,{children:Object(v.jsxs)("div",{className:"nav-center",children:[Object(v.jsx)(i.b,{to:"/",className:"home-link",children:Object(v.jsx)("img",{src:$,alt:"jobs app",className:"logo"})}),n&&Object(v.jsxs)("div",{className:"nav-links",children:[Object(v.jsxs)("p",{children:["hello, ",n.name]}),Object(v.jsx)("button",{className:"btn btn-small",onClick:function(){t()},children:"logout"})]})]})})};var te=function(){return k().isLoading?Object(v.jsx)("section",{className:"page page-center",children:Object(v.jsx)("div",{className:"loading"})}):Object(v.jsxs)(i.a,{children:[Object(v.jsx)(ne,{}),Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{path:"/",exact:!0,children:Object(v.jsx)(C,{})}),Object(v.jsx)(l.b,{path:"/login",exact:!0,children:Object(v.jsx)(Z,{})}),Object(v.jsx)(l.b,{path:"/register",exact:!0,children:Object(v.jsx)(_,{})}),Object(v.jsx)(Q,{path:"/dashboard",exact:!0,children:Object(v.jsx)(T,{})}),Object(v.jsx)(l.b,{path:"*",children:Object(v.jsx)(R,{})})]})]})};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(w,{children:Object(v.jsx)(te,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.7441f20e.chunk.js.map